<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Canopus — Web Video (Centered Text)</title>

<style>
html,body{
  margin:0;
  height:100%;
  background:#000;
  overflow:hidden;
  font-family:system-ui,"Noto Sans KR",sans-serif;
}

/* 무대 */
#stage{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* 텍스트 + 버튼 래퍼 */
#caption-wrap{
  display:flex;
  align-items:center;
  gap:16px;
}

#caption-wrap{
  transform: translateY(45vh);
}

/* 네모 멈춤 버튼 */
#pause-btn{
  width:22px;
  height:22px;
  background:#22ff00;
  border:2px solid #22ff00;
  cursor:pointer;
  flex-shrink:0;
}

#pause-btn.paused{
  background:#ff2a2a;
  border-color:#ff2a2a;
}

/* 텍스트 */
#changing-text{
  max-width:80vw;
  text-align:center;
  font-weight:800;
  line-height:1.35;
  font-size:min(3vw,20px);
  color:#22ff00;
  text-shadow:0 2px 12px rgb(255,0,200);
  opacity:1;
  transition:
    opacity .35s ease,
    transform .35s ease;
  user-select:none;
}

#changing-text.fading{
  opacity:0;
}

/* 미세 흔들림 */
#changing-text.drift{
  transform:translate3d(var(--dx,0px), var(--dy,0px), 0);
}
</style>
</head>

<body>

<div id="stage">
  <div id="caption-wrap">
    <div id="pause-btn" aria-label="pause/play"></div>
    <div id="changing-text"></div>
  </div>
</div>

<script>
window.addEventListener('load', () => {

  const textEl  = document.getElementById('changing-text');
  const btnEl   = document.getElementById('pause-btn');

  const texts = [
    "이론적으로 노인성을 관측할 수 있는 북방한계선은 북위 37.8°로 알려져 있다.",
    "서울에서는 조건이 맞을 경우 간신히 관측할 수 있지만, 38°를 넘는 개성 이북부터는 관측 자체가 불가능하다.",
    "노인성은 남쪽으로 갈수록 더 잘 보인다.",
    "제주도에서는 비교적 안정적으로 관측되며, 부산에서는 맑은 겨울밤에 간혹 나타난다.",
    "위도가 조금만 달라져도, 별의 존재는 곧바로 가시성의 문제로 바뀐다.",
    "옛 기록에는 전쟁이나 나라가 혼란에 빠져 있을 때 노인성이 보이지 않다가,",
    "천하가 안정되고 평화가 찾아오면 다시 보였다고 전해진다.",
    "고대에는 적도에 가까운 지역에서 노인성이 항법의 기준으로 사용되었다.",
    "현대에 이르러서도 카노푸스는 심우주 탐사에서 우주선의 위치와 방향을 판단하는 기준으로 기능한다.",
    "카노푸스는 밝은 별이면서도 황도면에서 멀리 떨어져 있어 태양에 가려질 위험이 없다.",
    "이 때문에 언제나 신뢰 가능한 기준점으로 간주된다.",
    "1964년 이후 발사된 탐사선의 대부분은 카노푸스 추적기를 탑재해왔다."
  ];

  const intervalMs = 7000;
  const fadeMs = 350;
  const driftPx = 2;

  let index = 0;
  let paused = false;

  let nextAt = performance.now() + intervalMs;

  textEl.textContent = texts[index];
  textEl.classList.add('drift');

  function setText(next){
    textEl.classList.add('fading');
    setTimeout(() => {
      textEl.textContent = next;

      const dx = (Math.random()*2 - 1) * driftPx;
      const dy = (Math.random()*2 - 1) * driftPx;
      textEl.style.setProperty('--dx', dx.toFixed(2)+'px');
      textEl.style.setProperty('--dy', dy.toFixed(2)+'px');

      textEl.classList.remove('fading');
    }, fadeMs);
  }

  function tick(){
    if (!paused){
      const now = performance.now();
      if (now >= nextAt - 16){
        index = (index + 1) % texts.length;
        setText(texts[index]);
        nextAt += intervalMs;
      }
    }
    requestAnimationFrame(tick);
  }

  tick();

  /* 네모 버튼 토글 */
  btnEl.addEventListener('click', () => {
    paused = !paused;
    btnEl.classList.toggle('paused', paused);
    if (!paused){
      nextAt = performance.now() + intervalMs;
    }
  });

});
</script>

</body>
</html>
